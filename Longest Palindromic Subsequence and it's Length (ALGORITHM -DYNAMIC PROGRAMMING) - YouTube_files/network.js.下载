(function(){/*

SPF
(c) 2012-2016 Google Inc.
https://ajax.googleapis.com/ajax/libs/spf/2.4.0/LICENSE
*/
function l(a,b,c){var d=Array.prototype.slice.call(arguments,2);return function(){var c=d.slice();c.push.apply(c,arguments);return a.apply(b,c)}}function aa(a,b){if(a){var c=Array.prototype.slice.call(arguments,1);try{return a.apply(null,c)}catch(d){return d}}}var n=window.performance&&window.performance.timing&&window.performance.now?function(){return window.performance.timing.navigationStart+window.performance.now()}:function(){return(new Date).getTime()};function p(a,b){return q[a]=b}var q=window._spf_state||{};window._spf_state=q;function r(a,b){if(a.forEach)a.forEach(b,void 0);else for(var c=0,d=a.length;c<d;c++)c in a&&b.call(void 0,a[c],c,a)}function t(a,b){if(a.some)return a.some(b,void 0);for(var c=0,d=a.length;c<d;c++)if(c in a&&b.call(void 0,a[c],c,a))return!0;return!1}function v(a){return"[object Array]"==Object.prototype.toString.call(a)?a:[a]};var w={};"config"in q||p("config",w);w=q.config;function x(a,b,c,d){var e=d||{},f=!1,h=0,k,g=new XMLHttpRequest;g.open(a,b,!0);g.timing={};var m=g.abort;g.abort=function(){clearTimeout(k);g.onreadystatechange=null;m.call(g)};g.onreadystatechange=function(){var a=g.timing;if(2==g.readyState){a.responseStart=a.responseStart||n();if("json"==g.responseType)f=!1;else if(-1<(g.getResponseHeader("Transfer-Encoding")||"").toLowerCase().indexOf("chunked"))f=!0;else{var a=g.getResponseHeader("X-Firefox-Spdy"),c=window.chrome&&chrome.loadTimes&&chrome.loadTimes(),
c=c&&c.wasFetchedViaSpdy;f=!(!a&&!c)}e.l&&e.l(g)}else 3==g.readyState?f&&e.g&&(a=g.responseText.substring(h),h=g.responseText.length,e.g(g,a)):4==g.readyState&&(a.responseEnd=a.responseEnd||n(),window.performance&&window.performance.getEntriesByName&&(g.resourceTiming=window.performance.getEntriesByName(b).pop()),f&&e.g&&g.responseText.length>h&&(a=g.responseText.substring(h),h=g.responseText.length,e.g(g,a)),clearTimeout(k),e.j&&e.j(g))};"responseType"in g&&"json"==e.responseType&&(g.responseType=
"json");e.withCredentials&&(g.withCredentials=e.withCredentials);d="FormData"in window&&c instanceof FormData;a="POST"==a&&!d;if(e.headers)for(var u in e.headers)g.setRequestHeader(u,e.headers[u]),"content-type"==u.toLowerCase()&&(a=!1);a&&g.setRequestHeader("Content-Type","application/x-www-form-urlencoded");0<e.u&&(k=setTimeout(function(){g.abort();e.o&&e.o(g)},e.u));g.timing.fetchStart=n();g.send(c);return g};function y(a,b){var c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c}var z=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^\s+|\s+$/g,"")};function A(a,b){a=a.split(b);var c=1==a.length;return[a[0],c?"":b,c?"":a.slice(1).join(b)]};function B(a){a.data&&"[object String]"==Object.prototype.toString.call(a.data)&&0==a.data.lastIndexOf("spf:",0)&&C(a.data.substring(4))}function C(a){var b=D[a];b&&(delete D[a],b())}function E(a){window.addEventListener?window.addEventListener("message",a,!1):window.attachEvent&&window.attachEvent("onmessage",a)}function F(a){window.removeEventListener?window.removeEventListener("message",a,!1):window.detachEvent&&window.detachEvent("onmessage",a)}
var G=function(){function a(){b=!1}if(!window.postMessage)return!1;var b=!0;E(a);window.postMessage("","*");F(a);return b}(),D={};"async-defers"in q||p("async-defers",D);D=q["async-defers"];G&&("async-listener"in q&&F(q["async-listener"]),E(B),p("async-listener",B));function H(a){var b=I();a in b&&delete b[a]}function ba(){var a=I(),b;for(b in a)J(a[b])||delete a[b];a=I();b=parseInt(w["cache-max"],10);b=isNaN(b)?Infinity:b;b=Object.keys(a).length-b;if(!(0>=b))for(var c=0;c<b;c++){var d=Infinity,e,f;for(f in a)a[f].count<d&&(e=f,d=a[f].count);delete a[e]}}function J(a){if(!(a&&"data"in a))return!1;var b=a.life,b=isNaN(b)?Infinity:b;a=a.time;return n()-a<b}function K(a){var b=parseInt(q["cache-counter"],10)||0;b++;p("cache-counter",b);a.count=b}
function I(){return"cache-storage"in q?q["cache-storage"]:p("cache-storage",{})};var L={};"ps-s"in q||p("ps-s",L);L=q["ps-s"];function M(a){var b=document.createElement("a");b.href=a;b.href=b.href;a={href:b.href,protocol:b.protocol,host:b.host,hostname:b.hostname,port:b.port,pathname:b.pathname,search:b.search,hash:b.hash,username:b.username,password:b.password};a.origin=a.protocol+"//"+a.host;a.pathname&&"/"==a.pathname[0]||(a.pathname="/"+a.pathname);return a}function N(a){a=M(a);return A(a.href,"#")[0]};var O={},P={},Q={};"rsrc-s"in q||p("rsrc-s",O);O=q["rsrc-s"];"rsrc-n"in q||p("rsrc-n",P);P=q["rsrc-n"];"rsrc-u"in q||p("rsrc-u",Q);Q=q["rsrc-u"];var R={};"js-d"in q||p("js-d",R);var R=q["js-d"],S={};"js-u"in q||p("js-u",S);S=q["js-u"];function T(a,b,c){if(b){b=[];var d,e=0;c&&(a+="\r\n");var f=a.indexOf("[\r\n",e);for(-1<f&&(e=f+3);-1<(f=a.indexOf(",\r\n",e));)d=z(a.substring(e,f)),e=f+3,d&&b.push(JSON.parse(d));f=a.indexOf("]\r\n",e);-1<f&&(d=z(a.substring(e,f)),e=f+3,d&&b.push(JSON.parse(d)));d="";a.length>e&&(d=a.substring(e),c&&y(d,"\r\n")&&(d=d.substring(0,d.length-2)));b=U(b);return{h:b,a:d}}a=JSON.parse(a);b=U(v(a));return{h:b,a:""}}
function U(a){r(v(a),function(a){if(a){a.head&&(a.head=V(a.head));if(a.body)for(var b in a.body)a.body[b]=V(a.body[b]);a.foot&&(a.foot=V(a.foot))}});return a}
function V(a){var b=new ca;if(!a)return b;if("[object String]"!=Object.prototype.toString.call(a))return a.scripts&&r(a.scripts,function(a){b.scripts.push({url:a.url||"",text:a.text||"",name:a.name||"",async:a.async||!1})}),a.styles&&r(a.styles,function(a){b.styles.push({url:a.url||"",text:a.text||"",name:a.name||""})}),a.links&&r(a.links,function(a){"spf-preconnect"==a.rel&&b.links.push({url:a.url||"",rel:a.rel||""})}),b.html=a.html||"",b;a=a.replace(da,function(a,d,e,f){if("script"==d){d=(d=e.match(W))?
d[1]:"";var c=e.match(ea),c=c?c[1]:"",k=fa.test(e);e=X.exec(e);return(e=!e||-1!=e[1].indexOf("/javascript")||-1!=e[1].indexOf("/x-javascript")||-1!=e[1].indexOf("/ecmascript"))?(b.scripts.push({url:c,text:f,name:d,async:k}),""):a}return"style"==d&&(d=(d=e.match(W))?d[1]:"",e=X.exec(e),e=!e||-1!=e[1].indexOf("text/css"))?(b.styles.push({url:"",text:f,name:d}),""):a});a=a.replace(ga,function(a,d){var c=d.match(ha),c=c?c[1]:"";return"stylesheet"==c?(c=(c=d.match(W))?c[1]:"",d=(d=d.match(ia))?d[1]:"",
b.styles.push({url:d,text:"",name:c}),""):"spf-preconnect"==c?(d=(d=d.match(ia))?d[1]:"",b.links.push({url:d,rel:c}),""):a});b.html=a;return b}function ca(){this.html="";this.scripts=[];this.styles=[];this.links=[]}(function(){var a=document.createElement("div");return"transition"in a.style?!0:t(["webkit","Moz","Ms","O","Khtml"],function(b){return b+"Transition"in a.style})})();
var ga=/\x3clink([\s\S]*?)\x3e/ig,da=/\x3c(script|style)([\s\S]*?)\x3e([\s\S]*?)\x3c\/\1\x3e/ig,fa=/(?:\s|^)async(?:\s|=|$)/i,ia=/(?:\s|^)href\s*=\s*["']?([^\s"']+)/i,W=/(?:\s|^)name\s*=\s*["']?([^\s"']+)/i,ha=/(?:\s|^)rel\s*=\s*["']?([^\s"']+)/i,ea=/(?:\s|^)src\s*=\s*["']?([^\s"']+)/i,X=/(?:\s|^)type\s*=\s*["']([^"']+)["']/i;function ja(a,b,c,d,e){var f=!1;c.responseStart=c.responseEnd=n();b.type&&0==b.type.lastIndexOf("navigate",0)&&(c.navigationStart=c.startTime,w["cache-unified"]||(H(d),f=!0));b.c&&"multipart"==e.type&&r(e.parts,function(d){d.timing||(d.timing={});d.timing.spfCached=!!c.spfCached;d.timing.spfPrefetched=!!c.spfPrefetched;b.c(a,d)});ka(a,b,c,e,f)}function la(a,b,c){a=c.getResponseHeader("X-SPF-Response-Type")||"";b.i=-1!=a.toLowerCase().indexOf("multipart")}
function ma(a,b,c,d,e,f,h){if(d.i){f=d.a+f;var k;try{k=T(f,!0,h)}catch(g){e.abort();b.b&&b.b(a,g,e);return}b.c&&r(k.h,function(d){d.timing||(d.timing={});d.timing.spfCached=!!c.spfCached;d.timing.spfPrefetched=!!c.spfPrefetched;b.c(a,d)});d.f=d.f.concat(k.h);d.a=k.a}}
function na(a,b,c,d,e){if(e.timing)for(var f in e.timing)c[f]=e.timing[f];if(e.resourceTiming)if("load"==b.type)for(var h in e.resourceTiming)c[h]=e.resourceTiming[h];else if(window.performance&&window.performance.timing&&(f=window.performance.timing.navigationStart,f+e.resourceTiming.startTime>=c.startTime))for(var k in e.resourceTiming)h=e.resourceTiming[k],void 0!==h&&(y(k,"Start")||y(k,"End")||"startTime"==k)&&(c[k]=f+Math.round(h));"load"!=b.type&&(c.navigationStart=c.startTime);d.f.length&&
(d.a=z(d.a),d.a&&ma(a,b,c,d,e,"",!0));var g;if("json"==e.responseType){if(!e.response){b.b&&b.b(a,Error("JSON response parsing failed"),e);return}g=U(v(e.response))}else try{g=T(e.responseText).h}catch(u){b.b&&b.b(a,u,e);return}if(b.c&&1<g.length)for(d=d.f.length;d<g.length;d++)e=g[d],e.timing||(e.timing={}),e.timing.spfCached=!!c.spfCached,e.timing.spfPrefetched=!!c.spfPrefetched,b.c(a,e);if(1<g.length){var m;r(g,function(a){a.cacheType&&(m=a.cacheType)});g={parts:g,type:"multipart"};m&&(g.cacheType=
m)}else g=1==g.length?g[0]:{};ka(a,b,c,g,!0)}function ka(a,b,c,d,e){if(e&&"POST"!=b.method&&(e=oa(a,b.current,d.cacheType,b.type,!0))){d.cacheKey=e;var f={response:d,type:b.type||""},h=parseInt(w["cache-lifetime"],10),k=parseInt(w["cache-max"],10);0>=h||0>=k||(k=I(),f={data:f,life:h,time:n(),count:0},K(f),k[e]=f,setTimeout(ba,1E3))}d.timing=c;b.m&&b.m(a,d)}
function oa(a,b,c,d,e){a=N(a);var f;w["cache-unified"]?f=a:"navigate-back"==d||"navigate-forward"==d?f="history "+a:"navigate"==d?f=(e?"history ":"prefetch ")+a:"prefetch"==d&&(f=e?"prefetch "+a:"");b&&"url"==c?f+=" previous "+b:b&&"path"==c&&(f+=" previous "+M(b).pathname);return f||""}
function pa(a,b){var c=[];b&&(c.push(a+" previous "+b),c.push(a+" previous "+M(b).pathname));c.push(a);var d=null;t(c,function(a){var b;a:{b=I();if(a in b){b=b[a];if(J(b)){K(b);b=b.data;break a}H(a)}b=void 0}b&&(d={key:a,response:b.response,type:b.type});return!!b});return d}function qa(){this.i=!1;this.a="";this.f=[]};function Y(a,b){var c;a&&(c=Array.prototype.slice.call(arguments),c[0]=a,c=aa.apply(null,c));return!1!==c};function ra(a,b,c){Y((a||{}).onError,{url:b,err:c,xhr:void 0})}function sa(a,b,c){Y((a||{}).onPartProcess,{url:b,part:c})&&Y((a||{}).onPartDone,{url:b,part:c})}function ta(a,b,c){var d;(d="multipart"==c.type)||(d=Y((a||{}).onProcess,{url:b,response:c}));d&&Y((a||{}).onDone,{url:b,response:c})}
var ua={request:function(a,b){b=b||{};b={method:b.method,headers:b.experimental_headers,c:l(sa,null,b),b:l(ra,null,b),m:l(ta,null,b),v:b.postData,type:"",current:window.location.href,s:window.location.href};b.method=((b.method||"GET")+"").toUpperCase();b.type=b.type||"request";var c=a,d=w["url-identifier"]||"";if(d){var d=d.replace("__type__",b.type||""),e=A(c,"#"),f=A(e[0],"?"),c=f[0],h=f[1],f=f[2],k=e[1],e=e[2];if(0==d.lastIndexOf("?",0))h&&(d=d.replace("?","&")),f+=d;else{if(0==d.lastIndexOf(".",
0))if(y(c,"/"))d="index"+d;else{var g=c.lastIndexOf(".");-1<g&&(c=c.substring(0,g))}else y(c,"/")&&0==d.lastIndexOf("/",0)&&(d=d.substring(1));c+=d}c=c+h+f+k+e}d=N(c);c={};c.spfUrl=d;c.startTime=n();c.fetchStart=c.startTime;h=oa(a,b.current,null,b.type,!1);h=pa(h,b.current);c.spfPrefetched=!!h&&"prefetch"==h.type;c.spfCached=!!h;if(h){a=l(ja,null,a,b,c,h.key,h.response);b=window._spf_state=window._spf_state||{};var m=parseInt(b.uid,10)||0;m++;b=b.uid=m;D[b]=a;G?window.postMessage("spf:"+b,"*"):window.setTimeout(l(C,
null,b),0);a=null}else{h={};if(f=w["request-headers"])for(m in f)k=f[m],h[m]=null==k?"":k;if(b.headers)for(m in b.headers)k=b.headers[m],h[m]=null==k?"":k;null!=b.s&&(h["X-SPF-Referer"]=b.s);null!=b.current&&(h["X-SPF-Previous"]=b.current);if(m=w["advanced-header-identifier"])h["X-SPF-Request"]=m.replace("__type__",b.type),h.Accept="application/json";m=new qa;f=l(na,null,a,b,c,m);a={headers:h,u:w["request-timeout"],l:l(la,null,a,m),g:l(ma,null,a,b,c,m),j:f,o:f};b.withCredentials&&(a.withCredentials=
b.withCredentials);w["advanced-response-type-json"]&&(a.responseType="json");a="POST"==b.method?x("POST",d,b.v,a):x("GET",d,null,a)}return a}},global=this;global.spf=global.spf||{};var va=global.spf,Z;for(Z in ua)va[Z]=ua[Z];}).call(this);
